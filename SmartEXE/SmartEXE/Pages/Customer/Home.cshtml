@page
@{
    Layout = null;
}

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>FPT Campus Explorer - AILENS</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="~/css/bootstrap.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/bootstrap-icons.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/templatemo-topic-listing.css" asp-append-version="true" />

    <style>
    /* ✅ Hero Section có ảnh nền giống Fiverr */
    .hero-section {
        background: url('/images/fpt-campus-bg.jpg') no-repeat center center/cover;
        min-height: 100vh;
        position: relative;
    }
            /* Làm nổi bật tiêu đề và mô tả */
            .hero-section h1 {
                color: #ffffff;
                font-weight: 800;
                text-shadow: 0 4px 16px rgba(0, 0, 0, 0.6);
            }

            .hero-section h6 {
                color: #00bfa5;
                font-weight: 600;
                text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            }

    /* ✅ Lớp phủ mờ giúp chữ nổi bật */
    .hero-section::before {
        content: "";
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0, 0, 0, 0.45);
        z-index: 1;
    }

    /* ✅ Căn giữa nội dung trên ảnh */
    .hero-section .container {
        position: relative;
        z-index: 2;
        color: white;
    }

    /* ✅ Ô tìm kiếm mờ và bo tròn */
    .custom-form .input-group {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50px;
        overflow: hidden;
        backdrop-filter: blur(6px);
    }

    .custom-form input {
        background: transparent;
        border: none;
        color: #fff;
    }

    .custom-form input::placeholder {
        color: #eee;
    }

    .custom-form button {
        border-radius: 50px;
        background: white;
        color: #00796b;
        font-weight: 600;
    }

    /* ✅ Nút đăng nhập có khung viền trắng */
    .btn-outline-primary {
        color: #fff !important;
        border: 2px solid #fff !important;
        background: transparent !important;
        border-radius: 30px;
        transition: 0.3s;
    }

    .btn-outline-primary:hover {
        background: #fff !important;
        color: #000 !important;
    }
</style>

    <style>
        /* 🔹 Khung danh sách gợi ý */
        #suggestion-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: #fff;
            border-radius: 12px;
            margin-top: 6px;
            padding: 6px 0;
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: none;
            overflow: hidden;
        }

            /* 🔹 Item gợi ý */
            #suggestion-list li {
                display: flex;
                align-items: center;
                justify-content: flex-start; /* 👈 Căn toàn bộ nội dung về bên trái */
                gap: 10px;
                padding: 10px 18px;
                font-size: 16px;
                color: #202124;
                cursor: pointer;
                text-align: left; /* 👈 Đảm bảo text nằm về trái */
                transition: all 0.2s ease;
            }

                /* 🔹 Viền ngăn cách */
                #suggestion-list li + li {
                    border-top: 1px solid #f1f3f4;
                }

                /* 🔹 Hover hiệu ứng */
                #suggestion-list li:hover {
                    background-color: #f1f3f4;
                }

            /* 🔹 Cuộn mượt (nếu danh sách dài) */
            #suggestion-list::-webkit-scrollbar {
                width: 6px;
            }

            #suggestion-list::-webkit-scrollbar-thumb {
                background: #d6d6d6;
                border-radius: 8px;
            }

    </style>

    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://storage.googleapis.com">
    <link rel="preconnect" href="https://vi.wikipedia.org">
    <link rel="preconnect" href="https://en.wikipedia.org">


</head>

<body id="top">
    <main>
        <!-- NAVBAR -->
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" asp-page="/Customer/Home">
            <i class="bi-back"></i>
            <span>AILENS</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-lg-5 me-lg-auto">
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_1">Trang chủ</a></li>
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_2">Chủ đề</a></li>
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_3">Cách hoạt động</a></li>
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_4">Câu hỏi thường gặp</a></li>
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_5">Liên hệ</a></li>
                <li class="nav-item"><a class="nav-link click-scroll" href="#section_6">Dịch vụ</a></li>
            </ul>

            <!-- Desktop view -->
            <div class="d-none d-lg-block">
                @if (User.Identity != null && User.Identity.IsAuthenticated)
                {
                    <!-- Nếu đã login -->
                    <div class="dropdown">
                        <a class="btn btn-outline-secondary dropdown-toggle" href="#" id="userDropdownLg" role="button"
                           data-bs-toggle="dropdown" aria-expanded="false">
                            Chào @User.Identity.Name
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdownLg">
                            <li><a class="dropdown-item" asp-page="/Customer/Profile">My Profile</a></li>
                            <li>
                                <form method="post" asp-page="/Common/Logout">
                                    <button type="submit" class="dropdown-item">Logout</button>
                                </form>
                            </li>
                        </ul>
                    </div>
                }
                else
                {
                    <!-- Nếu chưa login -->
                    <a asp-page="/Common/Login" class="btn btn-outline-primary">Đăng nhập</a>
                }
            </div>

            <!-- Mobile view -->
            <div class="d-lg-none ms-auto me-4">
                @if (User.Identity != null && User.Identity.IsAuthenticated)
                {
                    <div class="dropdown">
                        <a class="navbar-icon bi-person dropdown-toggle" href="#" id="userDropdownSm" role="button"
                           data-bs-toggle="dropdown" aria-expanded="false">
                            Chào @User.Identity.Name
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdownSm">
                            <li><a class="dropdown-item" asp-page="/Customer/Profile">My Profile</a></li>
                            <li>
                                <form method="post" asp-page="/Common/Logout">
                                    <button type="submit" class="dropdown-item">Logout</button>
                                </form>
                            </li>
                        </ul>
                    </div>
                }
                else
                {
                    <a asp-page="/Common/Login" class="btn btn-outline-primary">Đăng nhập</a>
                }
            </div>
        </div>
    </div>
</nav>


        <!-- HERO SECTION -->
        <section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-12 mx-auto text-center">
                        <h1 class="text-white">Khám phá - Kết nối</h1>
                        <h6 style="color: #00bfa5;">Nền tảng AI khám phá khuôn viên thông minh FPT</h6>

                        <form method="get" class="custom-form mt-4 pt-2 mb-lg-0 mb-5" role="search" onsubmit="return goToMap(event)">
                            <div class="input-group input-group-lg position-relative">
                                <span class="input-group-text bi-search" id="basic-addon1"></span>
                                <input name="keyword" type="search" class="form-control" id="keyword"
                                       placeholder="Giảng đường, Ký túc xá, Căng tin, Thư viện ..."
                                       aria-label="Search" autocomplete="off" oninput="showSuggestions()">
                                <button type="submit" class="form-control">Tìm kiếm</button>

                                <!-- Gợi ý -->
                                <ul id="suggestion-list" class="list-group position-absolute w-100 shadow"
                                    style="top: 100%; z-index: 1000; display: none;"></ul>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </section>

        <!-- EXPLORE TOOLS -->
        <section class="explore-section section-padding" id="section_2">
            <div class="container text-center mb-4">
                <h2>Khám phá các công cụ AI hỗ trợ</h2>
            </div>

            <div class="container">
                <div class="row g-4">
                    <!-- Bản đồ -->
                    <div class="col-lg-6 col-md-6 col-12">
                        <div class="custom-block bg-white shadow-lg">
                            <a asp-page="/Customer/Map">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">🗺️ Bản đồ nội khu</h5>
                                        <p class="mb-0">Hệ thống bản đồ thông minh giúp bạn định vị và chỉ đường trong trường</p>
                                    </div>
                                    <span class="badge bg-warning rounded-pill ms-auto">Hot</span>
                                </div>
                               @*  <img src="https://scontent.fhan19-1.fna.fbcdn.net/v/t39.30808-6/484176493_9314250981994998_5962696195847368675_n.jpg"
                                     class="custom-block-image img-fluid" alt="Bản đồ nội khu FPT"> *@
                            </a>
                        </div>
                    </div>

                    <!-- Camera -->
                    <div class="col-lg-6 col-md-6 col-12">
                        <div class="custom-block bg-white shadow-lg">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#cameraModal" id="openScanner">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">📷 Quét bằng Camera</h5>
                                        <p class="mb-0">Hướng camera đến vị trí bất kỳ để nhận diện cảnh quan bằng AI</p>
                                    </div>
                                    <span class="badge bg-primary rounded-pill ms-auto">AI</span>
                                </div>
                               @* <img src="~/images/topics/IMG_0187.jpg" class="custom-block-image img-fluid" alt="Quét bằng Camera AI"> *@
                            </a>
                        </div>
                    </div>

                    <!-- Chatbot -->
                    <div class="col-lg-6 col-md-6 col-12">
                        <div class="custom-block bg-white shadow-lg">
                            <a asp-page="/Customer/Chatbot">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">🤖 Trợ lý ảo AI</h5>
                                        <p class="mb-0">Giao tiếp tự nhiên để hỏi thông tin lịch học, phòng học, tiện ích,...</p>
                                    </div>
                                    <span class="badge bg-info rounded-pill ms-auto">Beta</span>
                                </div>
                                <img src="https://vbee.vn/blog/wp-content/uploads/2023/12/tro-ly-ao.webp"
                                     class="custom-block-image img-fluid" alt="Trợ lý ảo AI">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="explore-section section-padding" id="section_2">
            <div class="container">
                <div class="row">

                    <div class="col-12 text-center">
                        <h2 class="mb-4">Chủ Đề</h1>
                    </div>

                </div>
            </div>

            <div class="container-fluid">
                <div class="row">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="design-tab" data-bs-toggle="tab" data-bs-target="#design-tab-pane" type="button" role="tab" aria-controls="design-tab-pane" aria-selected="true">Thư viện</button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="marketing-tab" data-bs-toggle="tab" data-bs-target="#marketing-tab-pane" type="button" role="tab" aria-controls="marketing-tab-pane" aria-selected="false">Giảng đường</button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="finance-tab" data-bs-toggle="tab" data-bs-target="#finance-tab-pane" type="button" role="tab" aria-controls="finance-tab-pane" aria-selected="false">Ký túc xá</button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="music-tab" data-bs-toggle="tab" data-bs-target="#music-tab-pane" type="button" role="tab" aria-controls="music-tab-pane" aria-selected="false">Căng tin</button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="education-tab" data-bs-toggle="tab" data-bs-target="#education-tab-pane" type="button" role="tab" aria-controls="education-tab-pane" aria-selected="false">Phòng học</button>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="container">
                <div class="row">

                    <div class="col-12">
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="design-tab-pane" role="tabpanel" aria-labelledby="design-tab" tabindex="0">
                                <div class="row">




                                    <div class="col-lg-6 col-md-8 mx-auto">
                                        <div class="custom-block bg-white shadow-lg">
                                            <a href="topics-detail.html">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Thư viện</h5>

                                                        <p class="mb-0">
                                                            Không gian học tập hiện đại, nơi bạn có thể đọc sách, mượn tài liệu và tận hưởng môi trường yên tĩnh để nghiên cứu

                                                        </p>
                                                    </div>

                                                    <span class="badge bg-design rounded-pill ms-auto">100</span>
                                                </div>

                                                <img src="https://daihoc.fpt.edu.vn/wp-content/uploads/2022/04/dai-hoc-fpt-2-3.jpeg" class="custom-block-image img-fluid" alt="">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="marketing-tab-pane" role="tabpanel" aria-labelledby="marketing-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-8 mx-auto">
                                        <div class="custom-block bg-white shadow-lg">
                                            <a href="topics-detail.html">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Giảng đường</h5>

                                                        <p class="mb-0">Nơi tổ chức các buổi học, hội thảo, sự kiện lớn của sinh viên, được trang bị đầy đủ tiện nghi và thiết bị giảng dạy tiên tiến</p>
                                                    </div>

                                                    <span class="badge bg-advertising rounded-pill ms-auto">30</span>
                                                </div>

                                                <img src="https://pjm.vn/upload/images/20201217145005_c45147dee729311ef5b5c3003946c48f.jpg" class="custom-block-image img-fluid" alt="">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="finance-tab-pane" role="tabpanel" aria-labelledby="finance-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-8 mx-auto">
                                        <div class="custom-block bg-white shadow-lg">
                                            <a href="topics-detail.html">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Ký túc xá</h5>

                                                        <p class="mb-0">Khu nội trú tiện nghi dành cho sinh viên, đảm bảo an ninh và không gian sinh hoạt thân thiện như một mái nhà thứ hai</p>
                                                    </div>

                                                    <span class="badge bg-finance rounded-pill ms-auto">30</span>
                                                </div>

                                                <img src="https://daihoc.fpt.edu.vn/wp-content/uploads/2023/08/KTX-DH-FPT-Ha_noi-12.webp" class="custom-block-image img-fluid" alt="">
                                            </a>
                                        </div>
                                    </div>


                                </div>
                            </div>

                            <div class="tab-pane fade" id="music-tab-pane" role="tabpanel" aria-labelledby="music-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-8 mx-auto">
                                        <div class="custom-block bg-white shadow-lg">
                                            <a href="topics-detail.html">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Căng tin</h5>

                                                        <p class="mb-0">Khu vực phục vụ ăn uống đa dạng và sạch sẽ, là nơi sinh viên thư giãn, ăn uống và gặp gỡ bạn bè trong ngày học</p>
                                                    </div>

                                                    <span class="badge bg-music rounded-pill ms-auto">45</span>
                                                </div>

                                                <img src="https://daihoc.fpt.edu.vn/wp-content/uploads/2023/08/KTX-DH-FPT-Ha_noi-13.webp" class="custom-block-image img-fluid" alt="">
                                            </a>
                                        </div>
                                    </div>




                                </div>
                            </div>

                            <div class="tab-pane fade" id="education-tab-pane" role="tabpanel" aria-labelledby="education-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-8 mx-auto">
                                        <div class="custom-block bg-white shadow-lg">
                                            <a href="topics-detail.html">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Phòng học</h5>

                                                        <p class="mb-0">Không gian học tập linh hoạt, được bố trí theo nhóm nhỏ, phù hợp cho cả học tập cá nhân và làm việc nhóm</p>
                                                    </div>

                                                    <span class="badge bg-education rounded-pill ms-auto">80</span>
                                                </div>

                                                <img src="https://daihoc.fpt.edu.vn/wp-content/uploads/2016/12/IMG_6280.jpg" class="custom-block-image img-fluid" alt="">
                                            </a>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>

                    </div>
                </div>
        </section>

        <section class="timeline-section section-padding" id="section_3">
            <div class="section-overlay"></div>

            <div class="container">
                <div class="row">

                    <div class="col-12 text-center">
                        <h2 class="text-white mb-4">Hệ thống hoạt động như thế nào?</h1>
                    </div>

                    <div class="col-lg-10 col-12 mx-auto">
                        <div class="timeline-container">
                            <ul class="vertical-scrollable-timeline" id="vertical-scrollable-timeline">
                                <div class="list-progress">
                                    <div class="inner"></div>
                                </div>

                                <li>
                                    <h4 class="text-white mb-3">Chọn khu vực bạn muốn khám phá</h4>

                                    <p class="text-white">Khám phá các địa điểm quan trọng trong khuôn viên FPT như thư viện, giảng đường, ký túc xá, sân bóng và nhiều hơn nữa – mọi thứ chỉ với một lần chạm</p>

                                    <div class="icon-holder">
                                        <i class="bi-search"></i>
                                    </div>
                                </li>

                                <li>
                                    <h4 class="text-white mb-3">Quét địa điểm bằng AI</h4>

                                    <p class="text-white">Sử dụng camera điện thoại để nhận diện trực tiếp cảnh vật và nhận thông tin chi tiết tức thì. Công nghệ AI giúp bạn định vị thông minh và thuận tiện</p>

                                    <div class="icon-holder">
                                        <i class="bi-bookmark"></i>
                                    </div>
                                </li>

                                <li>
                                    <h4 class="text-white mb-3">Tìm hiểu và tương tác</h4>

                                    <p class="text-white">Trò chuyện với trợ lý ảo AILENS để hỏi thông tin về lịch học, phòng học, tiện ích,... Mọi thắc mắc sẽ được hỗ trợ nhanh chóng và chính xác</p>

                                    <div class="icon-holder">
                                        <i class="bi-book"></i>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-12 text-center mt-5">
                        <p class="text-white">
                            Bạn muốn xem thêm?
                            <a href="#" class="btn custom-btn custom-border-btn ms-3">Youtube</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>


        <section class="faq-section section-padding" id="section_4">
            <div class="container">
                <div class="row">

                    <div class="col-lg-6 col-12">
                        <h2 class="mb-4">Câu hỏi thường gặp</h2>
                    </div>

                    <div class="clearfix"></div>

                    <div class="col-lg-5 col-12">
                        <img src="https://onetour.vn/Media/images/OneTour/tin-tuc/cau-hoi-thuong-gap.jpg" class="img-fluid" alt="FAQs">
                    </div>

                    <div class="col-lg-6 col-12 m-auto">
                        <div class="accordion" id="accordionExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        AILENS có cần kết nối Internet để sử dụng không?
                                    </button>
                                </h2>

                                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        Có, AILENS cần kết nối Internet để truy cập dữ liệu và phản hồi người dùng theo thời gian thực
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        AILENS hoạt động trên thiết bị nào?
                                    </button>
                                </h2>

                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        AILENS hỗ trợ cả máy tính và điện thoại thông minh có trình duyệt web
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        Tôi cần đăng nhập để sử dụng không?
                                    </button>
                                </h2>

                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        Không bắt buộc. Một số chức năng hoạt động mà không cần đăng nhập
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>


        <section class="contact-section section-padding section-bg" id="section_5">
            <div class="container">
                <div class="row justify-content-center">

                    <div class="col-lg-8 col-md-10 col-12 text-center">
                        <h2 class="mb-5">Liên hệ với nhóm AILENS</h2>

                        <p class="mb-3">
                            <strong>Họ và tên:</strong> Nguyễn Hồng Nam
                        </p>

                        <p class="mb-3">
                            <strong>Số điện thoại:</strong>
                            <a href="tel:0123456789" class="site-footer-link">0123 456 789</a>
                        </p>

                        <p class="mb-3">
                            <strong>Email:</strong>
                            <a href="mailto:nam@example.com" class="site-footer-link">nam@example.com</a>
                        </p>

                        <p class="mb-0">
                            <strong>Facebook:</strong>
                            <a href="https://facebook.com/nguyenhongnam" target="_blank" class="site-footer-link">facebook.com/nguyenhongnam</a>
                        </p>
                    </div>

                </div>
            </div>
        </section>
        <section class="ads-section section-padding bg-light" id="section_6">
            <div class="container">
                <div class="row justify-content-center text-center">
                    <div class="col-lg-8 col-md-10 col-12">
                        <h2 class="mb-4">Dịch vụ Quảng cáo</h2>
                        <p class="mb-4">
                            Chúng tôi cung cấp giải pháp Marketing toàn diện cho sinh viên, CLB và doanh nghiệp trong và ngoài FPT:
                            chạy quảng cáo Facebook/Google, thiết kế sáng tạo, và tư vấn truyền thông hiệu quả.
                        </p>

                        <div class="d-flex justify-content-center gap-3">
                            <a href="mailto:ads@ailens.com" class="btn btn-primary">Liên hệ ngay</a>
                            <a href="#section_5" class="btn btn-outline-dark">Xem thêm</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-12 mb-4 pb-2">
                    <a class="navbar-brand mb-2" asp-page="/Customer/Home">
                        <i class="bi-back"></i>
                        <span>AILENS</span>
                    </a>
                </div>

                <div class="col-lg-3 col-md-4 col-6">
                    <h6 class="site-footer-title mb-3">Mục lục</h6>
                    <ul class="site-footer-links">
                        <li><a href="#section_2" class="site-footer-link">Chủ đề</a></li>
                        <li><a href="#section_3" class="site-footer-link">Cách hoạt động</a></li>
                        <li><a href="#section_4" class="site-footer-link">FAQs</a></li>
                        <li><a href="#section_5" class="site-footer-link">Liên hệ</a></li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-4 col-6 mb-4 mb-lg-0">
                    <h6 class="site-footer-title mb-3">Thông tin</h6>
                    <p class="text-white d-flex mb-1"><a href="tel:0123456789" class="site-footer-link">0123 456 789</a></p>
                    <p class="text-white d-flex"><a href="mailto:info@ailens.com" class="site-footer-link">info@ailens.com</a></p>
                </div>
            </div>
        </div>
    </footer>


    <!-- CAMERA MODAL -->
    <style>
        #liveVideo {
            width: 100%;
            max-height: 60vh;
            border-radius: 10px;
            background: #000;
        }

        .modal-body {
            position: relative;
        }
            /* để canvas overlay bám lên video */
            .modal-body .btn {
                min-width: 140px;
            }

        #overlayCanvas {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            max-height: 60vh;
            pointer-events: none; /* không chặn click */
        }
    </style>


    <div class="modal fade" id="cameraModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">📷 Quét bằng Camera</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                </div>
                <div class="modal-body text-center">
                    <video id="liveVideo" autoplay playsinline muted></video>
                    <canvas id="overlayCanvas"></canvas>          <!-- NEW: vẽ khung dự đoán -->
                    <canvas id="snapCanvas" class="d-none"></canvas>

                    <div class="mt-3 d-flex flex-wrap justify-content-center gap-2">
                        <button id="switchBtn" class="btn btn-outline-secondary">Đổi camera</button>
                        <button id="captureBtn" class="btn btn-primary">Chụp &amp; Phân tích</button>
                    </div>

                    <div id="scanResult" class="mt-3 text-start small"></div>
                    <div id="objectInfo" class="mt-2"></div>

                </div>

            </div>
        </div>
    </div>
    <!-- TF.js + COCO-SSD (đặt TRƯỚC script camera) -->
    <script src="https://cdn.jsdelivr.net/npm/%40tensorflow/tfjs%404.14.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/%40tensorflow-models/coco-ssd%402.2.3"></script>

    <script>
        // Ưu tiên GPU nếu có, fallback sang wasm/cpu
        (async () => {
          try { await tf.setBackend('webgl'); } catch {}
          await tf.ready();
        })();

        // Bắt đầu tải sẵn mô hình ngay khi trang load
        let modelPromise = cocoSsd.load({ base: 'lite_mobilenet_v2' }); // nhẹ & nhanh

        // Hàm "làm nóng" để biên dịch kernel lần đầu (giảm khựng)
        async function warmUpModel() {
          const model = await modelPromise;
          const off = document.createElement('canvas');
          off.width = 320; off.height = 240;
          const ctx = off.getContext('2d');
          ctx.fillStyle = '#000'; ctx.fillRect(0,0,off.width,off.height);
          await model.detect(off, 1); // chạy 1 lần cho nóng máy
        }
        // Gọi warmup ngay sau khi tải xong
        modelPromise.then(() => warmUpModel());
    </script>


    <script>
        async function fetchWikiSummary(query) {
          const ask = async (lang) => {
            const searchUrl = `https://${lang}.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(query)}&utf8=1&srlimit=1&format=json&origin=*`;
            const sr = await fetch(searchUrl, { cache: 'force-cache' }).then(r => r.json()).catch(() => null);
            const title = sr?.query?.search?.[0]?.title;
            if (!title) return null;

            const sumUrl = `https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(title)}`;
            const sum = await fetch(sumUrl, { cache: 'force-cache' }).then(r => r.json()).catch(() => null);
            if (!sum?.extract) return null;

            return {
              lang,
              title: sum.title,
              extract: sum.extract,
              url: sum?.content_urls?.desktop?.page
                   || sum?.content_urls?.mobile?.page
                   || `https://${lang}.wikipedia.org/wiki/${encodeURIComponent(title)}`
            };
          };

          // Chạy vi + en song song, ưu tiên kết quả tiếng Việt
          const [vi, en] = await Promise.allSettled([ask('vi'), ask('en')]);
          return (vi.status === 'fulfilled' && vi.value) ? vi.value
               : (en.status === 'fulfilled' && en.value) ? en.value
               : null;
        }
    </script>


    <script>
        (function () {
          const modalEl    = document.getElementById('cameraModal');
          const video      = document.getElementById('liveVideo');
          const canvasSnap = document.getElementById('snapCanvas');
          const overlay    = document.getElementById('overlayCanvas');
          const btnCapture = document.getElementById('captureBtn');
          const btnSwitch  = document.getElementById('switchBtn');
          const scanResult = document.getElementById('scanResult');

          let currentStream = null;
          let facingMode = 'environment';   // 'user' = camera trước
          let model = null;
          const SCORE_THR = 0.55;           // ngưỡng tin cậy

          // Khớp kích thước overlay với video
          function syncOverlaySize() {
            const w = video.videoWidth  || 1280;
            const h = video.videoHeight || 720;
            overlay.width = w; overlay.height = h;
            overlay.style.width  = video.clientWidth + 'px';
            overlay.style.height = video.clientHeight + 'px';
          }

                  async function ensureModel() {
          // Chỉ chờ Promise có sẵn thay vì load lại
          if (!model) {
            scanResult.innerHTML = '⏳ Đang chuẩn bị mô hình…';
            model = await modelPromise;
            scanResult.innerHTML = '✅ Mô hình đã sẵn sàng.';
          }
        }


          async function startCamera() {
            stopCamera();
            if (!navigator.mediaDevices?.getUserMedia) {
              scanResult.innerHTML = `<span class="text-danger">Trình duyệt không hỗ trợ camera.</span>`;
              return;
            }
            try {
              const constraints = { video: { facingMode, width:{ideal:1280}, height:{ideal:720} } };
              currentStream = await navigator.mediaDevices.getUserMedia(constraints);
              video.srcObject = currentStream;
              await new Promise(r => video.onloadedmetadata = () => { syncOverlaySize(); r(); });
              window.addEventListener('resize', syncOverlaySize);
              await ensureModel();
              scanResult.innerHTML = `<span class="text-muted">Camera (${facingMode==='environment'?'sau':'trước'}) đã bật.</span>`;
            } catch (err) {
              scanResult.innerHTML = `<span class="text-danger">Không thể truy cập camera: ${err.message}</span>`;
            }
          }

          function stopCamera() {
            if (currentStream) currentStream.getTracks().forEach(t => t.stop());
            currentStream = null;
            video.srcObject = null;
            const ctx = overlay.getContext('2d');
            ctx.clearRect(0,0,overlay.width, overlay.height);
            window.removeEventListener('resize', syncOverlaySize);
          }

          btnSwitch.addEventListener('click', async () => {
            facingMode = (facingMode === 'environment') ? 'user' : 'environment';
            await startCamera();
          });


                const LABEL2VI = {
          "cell phone": "Điện thoại thông minh",
          "tv": "Tivi",
          "couch": "Ghế sofa",
          "bottle": "Chai (vật chứa)",
          "backpack": "Ba lô",
          "tie": "Cà vạt",
          "clock": "Đồng hồ treo tường",
          "refrigerator": "Tủ lạnh",
          "microwave": "Lò vi sóng",
          "motorcycle": "Xe máy",
          "bicycle": "Xe đạp",
          "car": "Ô tô",
          "truck": "Xe tải",
          "dog": "Chó",
          "cat": "Mèo",
          "laptop": "Máy tính xách tay",
          "book": "Sách",
        };

        // Tìm tóm tắt Wikipedia: ưu tiên vi.wikipedia, fallback en.wikipedia
        


                  // CHỤP & PHÂN TÍCH — chạy hoàn toàn client-side, + lấy thông tin Wikipedia
        btnCapture.addEventListener('click', async () => {
          if (!video.videoWidth) {
            scanResult.innerHTML = `<span class="text-warning">Camera chưa sẵn sàng. Thử lại sau 1–2 giây.</span>`;
            return;
          }
          await ensureModel();

          scanResult.innerHTML = '🤖 Đang nhận diện…';
          const predictions = await model.detect(video, 10);
          const ctx = overlay.getContext('2d');
          ctx.clearRect(0,0,overlay.width, overlay.height);

          const good = predictions.filter(p => p.score >= SCORE_THR);
          if (!good.length) {
            scanResult.innerHTML = 'Không thấy vật thể nào (hoặc độ tin cậy thấp).';
            document.getElementById('objectInfo').innerHTML = '';
            return;
          }

          // Vẽ khung tất cả vật thể tốt
          ctx.lineWidth = 3;
          ctx.font = '16px sans-serif';
          good.forEach(p => {
            const [x,y,w,h] = p.bbox;
            ctx.strokeStyle = '#00FF00';
            ctx.strokeRect(x,y,w,h);
            const label = `${p.class} (${Math.round(p.score*100)}%)`;
            const tw = ctx.measureText(label).width;
            ctx.fillStyle = 'rgba(0,0,0,0.6)';
            ctx.fillRect(x, y-22, tw+8, 20);
            ctx.fillStyle = '#fff';
            ctx.fillText(label, x+4, y-7);
          });

          // Hiển thị top-5
          const list = good.slice(0,5).map(p => `${p.class} ${Math.round(p.score*100)}%`).join(', ');
          scanResult.innerHTML = `✅ Kết quả: ${list}`;

          // Lấy vật thể điểm cao nhất để tra cứu thông tin
          const top = good.reduce((a,b) => (a.score > b.score ? a : b));
          const query = LABEL2VI[top.class] || top.class;

          const infoBox = document.getElementById('objectInfo');
          infoBox.innerHTML = '🔎 Đang tìm thông tin…';

          try {
            const info = await fetchWikiSummary(query);
            if (info) {
              infoBox.innerHTML =
                `<div class="alert alert-light border">
                   <div class="fw-semibold mb-1">ℹ️ ${info.title} (${info.lang === 'vi' ? 'vi' : 'en'})</div>
                   <div class="small">${info.extract}</div>
                   <div class="mt-2"><a href="${info.url}" target="_blank" rel="noopener">Mở Wikipedia</a></div>
                 </div>`;
            } else {
              infoBox.innerHTML = `<div class="text-muted">Chưa tìm thấy thông tin phù hợp trên Wikipedia cho: <b>${query}</b>.</div>`;
            }
          } catch (e) {
            infoBox.innerHTML = `<div class="text-danger">Lỗi lấy thông tin: ${e.message}</div>`;
          }
        });
                  // Bật/tắt camera khi mở/đóng modal
          modalEl.addEventListener('shown.bs.modal', startCamera);
          modalEl.addEventListener('hidden.bs.modal', stopCamera);
        })();
    </script>




    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const chatbotToggle = document.getElementById("chatbot-toggle");
            const chatbotBox = document.getElementById("chatbot-box");
            const chatbotClose = document.getElementById("chatbot-close");
            chatbotBox.style.display = "none";
            chatbotToggle.addEventListener("click", () => chatbotBox.style.display = "block");
            chatbotClose.addEventListener("click", () => chatbotBox.style.display = "none");
        });
    </script>

    <!-- JAVASCRIPT FILES -->
    <script src="~/js/jquery.min.js"></script>
    <script src="~/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/jquery.sticky.js"></script>
    <script src="~/js/click-scroll.js"></script>
    <script src="~/js/custom.js"></script>

    <!-- 🔹 Kommunicate Chatbot -->
    <script type="text/javascript">
            (function(d, m){
                var kommunicateSettings =
                    {"appId":"2cf5d98275558a410b2d177a87e695b05","popupWidget":true,"automaticChatOpenOnNavigation":true};
                var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
                s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
                var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
                window.kommunicate = m; m._globals = kommunicateSettings;
            })(document, window.kommunicate || {});
        /* NOTE : Use web server to view HTML files as real-time update will not work if you directly open the HTML file in the browser. */
    </script>


    <!-- 🔹 Chuyển sang trang bản đồ khi tìm kiếm -->
    <script>
        function goToMap(e) {
            e.preventDefault();
            const keyword = document.getElementById("keyword").value.trim();
            if (keyword)
                window.location.href = `/Customer/Map?search=${encodeURIComponent(keyword)}#campusMap`;
            return false;
        }
    </script>

    <script>
        // Danh sách gợi ý mẫu — bạn có thể load từ DB sau này
        const locations = [
            "Dom A",
            "Dom B",
            "Dom C",
            "Căng tin 1",
            "Căng tin 2",
            "Hồ Đá",
            "Hồ Đào Cốc",
            "Thư viện",
            "Giảng đường Alpha",
            "Giảng đường Beta",
            "Sân bóng FPT",
            "Ký túc xá Nam",
            "Ký túc xá Nữ"
        ];

        function showSuggestions() {
            const input = document.getElementById("keyword");
            const list = document.getElementById("suggestion-list");
            const query = input.value.trim().toLowerCase();
            list.innerHTML = "";

            if (!query) {
                list.style.display = "none";
                return;
            }

            // Lọc các gợi ý khớp
            const filtered = locations.filter(loc => loc.toLowerCase().includes(query));
            if (filtered.length === 0) {
                list.style.display = "none";
                return;
            }

            // Hiển thị danh sách gợi ý
            filtered.forEach(item => {
                const li = document.createElement("li");
                li.classList.add("list-group-item", "list-group-item-action");
                li.textContent = item;
                li.addEventListener("click", () => {
                    input.value = item;
                    list.style.display = "none";
                });
                list.appendChild(li);
            });
            list.style.display = "block";
        }

        // Ẩn gợi ý khi click ra ngoài
        document.addEventListener("click", function (e) {
            const list = document.getElementById("suggestion-list");
            if (!document.getElementById("keyword").contains(e.target)) {
                list.style.display = "none";
            }
        });

        // Hàm điều hướng khi tìm kiếm
        function goToMap(e) {
            e.preventDefault();
            const keyword = document.getElementById("keyword").value.trim();
            if (keyword)
                window.location.href = `/Customer/Map?search=${encodeURIComponent(keyword)}#campusMap`;
            return false;
        }
    </script>


</body>
</html>
